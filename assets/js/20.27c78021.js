(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{381:function(s,t,a){"use strict";a.r(t);var e=a(45),r=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"melody-core-melody-git-hook"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#melody-core-melody-git-hook"}},[s._v("#")]),s._v(" @melody-core/melody-git-hook")]),s._v(" "),a("blockquote",[a("p",[s._v("提供了强大的git hooks功能。")])]),s._v(" "),a("h2",{attrs:{id:"how-to-use"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-to-use"}},[s._v("#")]),s._v(" how to use？")]),s._v(" "),a("h3",{attrs:{id:"english"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#english"}},[s._v("#")]),s._v(" English")]),s._v(" "),a("p",[s._v("in your project package.json, add:")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sctript"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//...others")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"prepare"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"melody-git-hook"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("then\ninstall @melody-core/melody-git-hook")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" @melody-core/melody-git-hook -D\n")])])]),a("p",[s._v("now, you can see your project which dir named '.melody' and file 'pre-commit';\nyou are seccessful.")]),s._v(" "),a("p",[s._v("if you want to update the shell, just write the file which named 'pre-commit'.")]),s._v(" "),a("h3",{attrs:{id:"中文"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#中文"}},[s._v("#")]),s._v(" 中文")]),s._v(" "),a("p",[s._v("在你的项目的package.json里，添加:")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sctript"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//...others")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"prepare"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"melody-git-hook"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("然后安装这个依赖")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" @melody-core/melody-git-hook -D\n")])])]),a("p",[s._v("现在你可以看到你的项目里有 .melody 文件夹和pre-commit文件\n你成功啦\n现在尝试执行'git commit'的话，你将发现会先执行 pre-commit文件的shell脚本。\n如果你想改变它的内容，直接重写这个文件内容就可以了，比如：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);